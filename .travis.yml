sudo: required

language: sh

services:
  - docker

env:
  - SERVICE=ash
  - SERVICE=bash
  - SERVICE=checkbashisms
  - SERVICE=mksh
  - SERVICE=shellcheck
  - SERVICE=zsh
  - SERVICE=ash CMD=/shpy/examples/renamer/test.sh
  - SERVICE=bash CMD=/shpy/examples/renamer/test.sh
  - SERVICE=mksh CMD=/shpy/examples/renamer/test.sh
  - SERVICE=zsh CMD=/shpy/examples/renamer/test.sh
  - SERVICE=ash CMD=/shpy/examples/coverfetch/test.sh
  - SERVICE=bash CMD=/shpy/examples/coverfetch/test.sh
  - SERVICE=mksh CMD=/shpy/examples/coverfetch/test.sh
  - SERVICE=zsh CMD=/shpy/examples/coverfetch/test.sh

script:
  - docker-compose run $SERVICE

# jobs:
#   include:
#     - script: docker-compose build kcov
#               && docker-compose run kcov
#               && CMD=/shpy/examples/renamer/test.sh docker-compose run kcov
#               && CMD=/shpy/examples/coverfetch/test.sh docker-compose run kcov
#               && bash <(curl -s https://codecov.io/bash)
#       env:
#         - SERVICE=kcov
